<h3>{{headerTitle}}</h3>

<button mat-raised-button (click)="back()">Back</button>
<div id="form-container">
  <form [formGroup]="postForm">
    <div class="field-div">
      <mat-label>Title</mat-label>
      <input matInput id="titleInput" placeholder="Title" formControlName="title">
    </div>
    <div class="field-div">
      <mat-label>Text</mat-label>
      <textarea *ngIf="selectedPost" matInput id="textInput" [placeholder]="selectedPost.text" formControlName="text"></textarea>
    </div>

    <div class="field-div">
      <mat-label>Add media</mat-label>
<!--      <button formControlName="media" mat-raised-button id="mediaInput">Add new media</button>-->
      <input matInput id="mediaInput" placeholder="Media" formControlName="media">
    </div>

    <div class="field-div">
      <mat-form-field appearance="fill">
        <mat-label>Collections</mat-label>
        <mat-select formControlName="collections" multiple>
          <mat-option *ngFor="let coll of collections" [value]="coll.id" >{{coll.title}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="field-div">
      <mat-label>Pinned</mat-label>
      <mat-slide-toggle formControlName="pinned"></mat-slide-toggle>
    </div>

    <div *ngIf="!editMode" class="field-div">
      <mat-form-field appearance="fill">
        <mat-label>Responsible</mat-label>
        <mat-select formControlName="responsible" multiple>
          <mat-option *ngFor="let volunteer of volunteers" [value]="volunteer.id" >{{volunteer.firstName}} {{volunteer.lastName}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div *ngIf="!editMode" class="field-div">
      <mat-label>Collaboration</mat-label>
      <mat-select formControlName="collaboration">
        <mat-option *ngFor="let collab of collaborations" [value]="collab.id">
          {{collab.title}}
        </mat-option>
      </mat-select>
    </div>

    <button mat-raised-button (click)="onSubmitPost('DRAFT')">Save draft</button>
    <button type="button" mat-raised-button id="savePost" color="primary" (click)="onSubmitPost('PUBLISHED')">Publish post / save changes</button>
    <button type="button" *ngIf="editMode" mat-raised-button (click)="deletePost()">Delete post</button>

    <div class="comments" *ngIf="editMode">
      <mat-label>Comments</mat-label>
      <div class="comment" *ngFor="let comment of comments">
        <div id="user-field">
<!--        {{comment.author.profilePhoto}}-->
          {{comment.author.name}}
        </div>
        <div id="comment-field">
          {{comment.text}}
          {{comment.createdDate | date}}
          {{comment.likes}}
        </div>
      </div>
    </div>
  </form>
</div>

<!--export class Post {-->
<!--id;-->
<!--createdDate: Date;-->
<!--title: string;-->
<!--text: string;-->
<!--media?: string;-->
<!--collections: Collection[];-->
<!--comments: Comment[];-->
<!--pinned: boolean;-->
<!--state: string;-->
<!--likes: number;-->
<!--}-->
