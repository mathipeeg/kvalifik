<div class="container">

  <div class="collection-container">
    <div class="top-div">
      <div class="Title">
        <h2>Collections</h2>
      </div>
      <div class="new-post">
        <button class="new-post-btn" mat-raised-button routerLink="/managecollection"><div><span>New collection</span>
          <span class="material-icons-outlined">add_circle</span></div></button>
      </div>
    </div>

    <table *ngIf="collections" mat-table [dataSource]="collections" class="mat-elevation-z8">
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef> Title </th>
        <td mat-cell *matCellDef="let element"> {{element.title}} </td> <!--(click)="openCollection(element.id)"-->
      </ng-container>

      <ng-container matColumnDef="created">
        <th mat-header-cell *matHeaderCellDef> Created </th>
        <td mat-cell *matCellDef="let element"> {{element.created | date}} </td>
      </ng-container>

      <ng-container matColumnDef="contents">
        <th mat-header-cell *matHeaderCellDef> Contents </th>
        <td mat-cell *matCellDef="let element">
          <div class="activity-div" *ngIf="element.eventContent || element.postContent">
            <div><span class="material-icons-outlined activity">insert_invitation</span>{{element.eventContent.length - 1}}</div>
            <div><span class="material-icons-outlined activity">library_books</span>{{element.postContent.length - 1}}</div>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef> Status </th>
        <td mat-cell *matCellDef="let element"> <div [ngClass]="{'draft': element.status === 'DRAFT', 'published': element.status === 'PUBLISHED'}">{{element.status}}</div> </td>
      </ng-container>

      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef> </th>
        <td mat-cell *matCellDef="let element"> <button (click)="editCollection(element.id)" mat-raised-button class="edit-button">Edit</button> </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>

</div>
